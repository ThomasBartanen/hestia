import { ExpenseData, LesseeData, PropertyData, StatementData, PropertyInput, StatementInput, ExpenseInput, LeaseholderInput } from "globals.slint";
import { Button, TabWidget, AboutSlint } from "std-widgets.slint";
import { PropertyMenu } from "properties.slint";
import { StatementMenu } from "statements.slint";
import { ExpenseMenu } from "expenses.slint";
import { LesseeMenu } from "leaseholders.slint";

export { ExpenseData, LesseeData, PropertyData, StatementData }

export component NavigationPane inherits Rectangle {    
    Rectangle {
        TabWidget {
            Tab {
                title: "Home";
                VerticalLayout {
                    Rectangle {
                        background: green.mix(gray, 20%);
                        VerticalLayout {
                            y: 10px;
                            x: 10px;
                            spacing: 10px;
                            Rectangle {
                                HorizontalLayout {
                                    Text {
                                        text: "Leaseholders: " + LesseeData.lessees.length;
                                    }
                                    Text {
                                        text: "Properties: " + PropertyData.properties.length;
                                    }
                                    Text {
                                        text: "Expenses: " + ExpenseData.expenses.length;
                                    }
                                    Text {
                                        text: "Statements: " + 0;
                                    }
                                }
                            }
                            Rectangle {
        
                            }
                            Rectangle {
        
                            }
                        }
    
                    }
                    
                    GridLayout {
                        height: parent.height / 3;
                        width: parent.width;
                        Rectangle {
                            background: green.mix(gray, 20%);
                            col: 0;
                            row: 0;
                            Text {
                                x: 20px;
                                y: 20px;
                                font-size: 10px;
                                width: parent.width / 1.1;
                                height: parent.height;
                                wrap: TextWrap.word-wrap;
                                overflow: TextOverflow.elide;
                                horizontal-alignment: TextHorizontalAlignment.left;
                                vertical-alignment: TextVerticalAlignment.top;
                                text: "Hestia was developed by Thomas Bartanen\nThe orignal goal was to ease a laziness in property management with an interest in software engineering.\n\nDeveloped with:\nRust\nSlint\nsqlx\ntokio\nprintPdf\nMore...";
                            }
                        }
                        Rectangle {
                            col: 1;
                            row: 0;                            
                            background: green.mix(gray, 20%);
                            AboutSlint {
                                preferred-height: 50px;
                                preferred-width: 50px;
                            }
                        }
                    }
                }
            }
            Tab {
                title: "Leaseholders";
                lessee-menu := LesseeMenu {
                    background: sienna.mix(gray, 10%);
                }
            }
            Tab {
                title: "Properties";
                prop-menu := PropertyMenu { 
                    background: green.mix(gray, 20%);
                }
            }
            Tab {
                title: "Expenses";
                expense-menu := ExpenseMenu {
                    background: sienna.mix(gray, 20%); 
                }
            }
            Tab {
                title: "Statements";
                statement-menu := StatementMenu {
                    background: green.mix(gray, 20%);
                }
            }
        }
    }
}

export component App inherits Window { 
    // === Window ===
    title: "Hestia";
    //always-on-top: true;
    //no-frame: true;

    // === Sizing ===
    min-width: 400px;
    preferred-width: 800px;
    min-height: 300px;
    preferred-height: 600px;

    // === Elements ===
    padding: 10px;
    
    nav-pane := NavigationPane { }
}
