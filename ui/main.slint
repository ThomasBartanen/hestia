import { ExpenseData, LesseeData, PropertyData, PropertyInput, StatementInput, ExpenseInput, LeaseholderInput } from "globals.slint";
import { Button, TabWidget, AboutSlint } from "std-widgets.slint";
import { PropertyMenu } from "properties.slint";
import { StatementMenu } from "statements.slint";
import { ExpenseMenu } from "expenses.slint";
import { LesseeMenu } from "leaseholders.slint";

export { ExpenseData, LesseeData, PropertyData }

export component NavigationPane inherits Rectangle {
    in-out property <[StatementInput]> statements <=> statement-menu.statements;
    
    Rectangle {
        TabWidget {
            Tab {
                title: "Home";
                Rectangle {
                    background: green.mix(gray, 20%);
                    VerticalLayout {
                        y: 10px;
                        x: 10px;
                        spacing: 10px;
                        Rectangle {
                            HorizontalLayout {
                                Text {
                                }
                                Text {
                                }
                                Text {
                                }
                                Text {
                                    text: "Statements: " + 0;
                                        text: "Leaseholders: " + LesseeData.lessees.length;
                                        text: "Properties: " + PropertyData.properties.length;
                                        text: "Expenses: " + ExpenseData.expenses.length;
                                }
                            }
                        }
                        Rectangle {
    
                        }
                        Rectangle {
    
                        }
                    }

                }
            }
            Tab {
                title: "Leaseholders";
                lessee-menu := LesseeMenu {
                    background: sienna.mix(gray, 10%);
                }
            }
            Tab {
                title: "Properties";
                prop-menu := PropertyMenu { 
                    background: green.mix(gray, 20%);
                }
            }
            Tab {
                title: "Expenses";
                expense-menu := ExpenseMenu {
                    background: sienna.mix(gray, 20%); 
                }
            }
            Tab {
                title: "Statements";
                statement-menu := StatementMenu {
                    background: green.mix(gray, 20%);
                }
            }
            Tab {
                title: "About";
                GridLayout {
                    Rectangle {
                        background: sienna.mix(gray, 20%); 
                        col: 0;
                        row: 0;
                        Text {
                            text: "Hestia was developed by Thomas Bartanen\nThe orignal goal was to ease a laziness in property management with an interest in software engineering.\n\nDeveloped with:\nRust\nSlint\nsqlx\ntokio\nprintPdf\nMore...";
                        }
                    }
                    AboutSlint {
                        col: 1;
                        row: 0;
                    }
                }
            }
        }
    }
}

export component App inherits Window { 
    // === Window ===
    title: "Hestia";
    always-on-top: true;
    //no-frame: true;

    // === Sizing ===
    min-width: 400px;
    preferred-width: 800px;
    min-height: 300px;
    preferred-height: 600px;

    // === Elements ===
    padding: 10px;

    // === Colors ===
    //background: white;

    // === Properties ===
    in-out property <[StatementInput]> statements <=> nav-pane.statements;
    
    nav-pane := NavigationPane { }
}
